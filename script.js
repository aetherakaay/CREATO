const promptInput=document.getElementById("prompt-input"),generateBtn=document.getElementById("generate-btn"),loader=document.getElementById("loader"),resultContainer=document.getElementById("result-container"),resultOutput=document.getElementById("result-output"),errorContainer=document.getElementById("error-container"),N8N_WEBHOOK_URL="https://hhjjjkkjjjjjju.app.n8n.cloud/webhook/Creaton";function displayError(e){errorContainer.textContent=e,errorContainer.style.display="block",resultContainer.style.display="none"}generateBtn.addEventListener("click",async()=>{const e=promptInput.value.trim();if(!e)return void alert("Please enter a game idea prompt!");generateBtn.disabled=!0,loader.style.display="block",resultContainer.style.display="none",errorContainer.style.display="none";try{const t=await fetch(N8N_WEBHOOK_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})});if(!t.ok)throw new Error(`Network error: The server responded with status ${t.status}.`);const o=await t.json();if(!o||0===Object.keys(o).length||!o.title)throw new Error("The data received from the AI agent was empty or in the wrong format. Please check your n8n 'Code Node' to ensure it's returning the correct JSON structure (e.g., { title: '...', description: '...', code: '...' }).");const n=o.title||"N/A",r=o.description||"N/A",i=o.code||"No code provided.";resultOutput.textContent=`Title: ${n}\n\nDescription: ${r}\n\nCode Snippet:\n${i}`,resultContainer.style.display="block"}catch(e){console.error("An error occurred:",e),displayError(`Error: ${e.message}`)}finally{loader.style.display="none",generateBtn.disabled=!1}});
    
